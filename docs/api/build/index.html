<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-api/build/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.1">
<title data-rh="true">Build APIs | Buck2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://buck2.build/docs/api/build/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build APIs | Buck2"><meta data-rh="true" name="description" content="ExecutionPlatformInfo"><meta data-rh="true" property="og:description" content="ExecutionPlatformInfo"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://buck2.build/docs/api/build/"><link data-rh="true" rel="alternate" href="https://buck2.build/docs/api/build/" hreflang="en"><link data-rh="true" rel="alternate" href="https://buck2.build/docs/api/build/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GEGGHE39PE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GEGGHE39PE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.c6c35c65.css">
<script src="/assets/js/runtime~main.81f3685b.js" defer="defer"></script>
<script src="/assets/js/main.7a8cf8da.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Buck2 Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Buck2 Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Buck2</b></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/api/">API</a><a class="navbar__item navbar__link" href="/docs/prelude/globals/">Rules</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/buck2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/api/">APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/prelude/globals/">Rules</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/api/starlark/">Starlark APIs</a><button aria-label="Expand sidebar category &#x27;Starlark APIs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" href="/docs/api/build/">Build APIs</a><button aria-label="Collapse sidebar category &#x27;Build APIs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ActionErrorCtx/">ActionErrorCtx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ActionErrorLocation/">ActionErrorLocation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ActionSubError/">ActionSubError</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/AnalysisActions/">AnalysisActions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/AnalysisContext/">AnalysisContext</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/AnonTarget/">AnonTarget</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/AnonTargets/">AnonTargets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/Artifact/">Artifact</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ArtifactTag/">ArtifactTag</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ArtifactValue/">ArtifactValue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/Attr/">Attr</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/CellPath/">CellPath</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/CellRoot/">CellRoot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/CommandExecutorConfig/">CommandExecutorConfig</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ConfigurationInfo/">ConfigurationInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ConfiguredProvidersLabel/">ConfiguredProvidersLabel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ConfiguredTargetLabel/">ConfiguredTargetLabel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ConstraintSettingInfo/">ConstraintSettingInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ConstraintValueInfo/">ConstraintValueInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/DefaultInfo/">DefaultInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/Dependency/">Dependency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/DynamicActions/">DynamicActions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/DynamicActionsCallable/">DynamicActionsCallable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/DynamicValue/">DynamicValue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ExternalRunnerTestInfo/">ExternalRunnerTestInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/Label/">Label</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/LocalResourceInfo/">LocalResourceInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/OutputArtifact/">OutputArtifact</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/PlatformInfo/">PlatformInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ProjectRoot/">ProjectRoot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/Promise/">Promise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ProviderCollection/">ProviderCollection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ProvidersLabel/">ProvidersLabel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/RequiredTestLocalResource/">RequiredTestLocalResource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ResolvedDynamicValue/">ResolvedDynamicValue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ResolvedStringWithMacros/">ResolvedStringWithMacros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/RunInfo/">RunInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/Select/">Select</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TargetLabel/">TargetLabel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TemplatePlaceholderInfo/">TemplatePlaceholderInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TransitiveSet/">TransitiveSet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TransitiveSetArgsProjection/">TransitiveSetArgsProjection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TransitiveSetArgsProjectionIterator/">TransitiveSetArgsProjectionIterator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TransitiveSetDefinition/">TransitiveSetDefinition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TransitiveSetIterator/">TransitiveSetIterator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/TransitiveSetJsonProjection/">TransitiveSetJsonProjection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ValidationInfo/">ValidationInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/ValidationSpec/">ValidationSpec</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/WorkerInfo/">WorkerInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/WorkerRunInfo/">WorkerRunInfo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/cmd_args/">cmd_args</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/api/build/dynattrs/">dynattrs</a><button aria-label="Expand sidebar category &#x27;dynattrs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/api/build/plugins/">plugins</a><button aria-label="Expand sidebar category &#x27;plugins&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/build/regex/">regex</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/api/bxl/">BXL APIs</a><button aria-label="Expand sidebar category &#x27;BXL APIs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Build APIs</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1 id="build-apis">Build APIs</h1></header>
<h2 id="executionplatforminfo">ExecutionPlatformInfo</h2>
<pre class="language-python"><code>def ExecutionPlatformInfo(
*,
label: <a href="/docs/api/build/TargetLabel/">target_label</a>,
configuration: ConfigurationInfo,
executor_config: <a href="/docs/api/build/CommandExecutorConfig/">command_executor_config</a>,
) -&gt; ExecutionPlatformInfo</code></pre>
<p>Provider that signals that a target represents an execution platform.</p>
<p>Provides a number of fields that can be accessed:</p>
<ul>
<li>
<p><code>label: target_label</code> - label of the defining rule, used in informative messages</p>
</li>
<li>
<p><code>configuration: ConfigurationInfo</code> - The configuration of the execution platform</p>
</li>
<li>
<p><code>executor_config: command_executor_config</code> - The executor config</p>
</li>
</ul>
<hr>
<h2 id="executionplatformregistrationinfo">ExecutionPlatformRegistrationInfo</h2>
<pre class="language-python"><code>def ExecutionPlatformRegistrationInfo(
*,
platforms: list[ExecutionPlatformInfo],
fallback = None,
) -&gt; ExecutionPlatformRegistrationInfo</code></pre>
<p>Provider that gives the list of all execution platforms available for this build.</p>
<p>Provides a number of fields that can be accessed:</p>
<ul>
<li>
<p><code>platforms: list[ExecutionPlatformInfo]</code> - field</p>
</li>
<li>
<p><code>fallback: typing.Any</code> - field</p>
</li>
</ul>
<hr>
<h2 id="installinfo">InstallInfo</h2>
<pre class="language-python"><code>def InstallInfo(
installer: <a href="/docs/api/build/Label/">label</a>,
files: dict[<a href="/docs/api/starlark/str/">str</a>, <a href="/docs/api/build/Artifact/">artifact</a>],
) -&gt; InstallInfo</code></pre>
<p>A provider that can be constructed and have its fields accessed. Returned by rules.</p>
<p>Provides a number of fields that can be accessed:</p>
<ul>
<li>
<p><code>installer: label</code> - field</p>
</li>
<li>
<p><code>files: dict[str, artifact]</code> - field</p>
</li>
</ul>
<hr>
<h2 id="provider">Provider</h2>
<pre class="language-python"><code>Provider: type</code></pre>
<hr>
<h2 id="anon_rule">anon_rule</h2>
<pre class="language-python"><code>def anon_rule(
*,
impl: typing.Callable[[typing.Any], list],
attrs: dict[<a href="/docs/api/starlark/str/">str</a>, <a href="/docs/api/build/Attr/">attribute</a>],
doc: <a href="/docs/api/starlark/str/">str</a> = &quot;&quot;,
artifact_promise_mappings: dict[<a href="/docs/api/starlark/str/">str</a>, typing.Callable[[typing.Any], list]],
) -&gt; def(**kwargs: typing.Any) -&gt; None</code></pre>
<p>Define an anon rule, similar to how a normal rule is defined, except with an extra <code>artifact_promise_mappings</code> field. This is a dict where the keys are the string name of the artifact, and the values are the callable functions that produce the artifact. This is only intended to be used with anon targets.</p>
<hr>
<h2 id="attrs">attrs</h2>
<pre class="language-python"><code>attrs: attrs</code></pre>
<hr>
<h2 id="dedupe">dedupe</h2>
<pre class="language-python"><code>def dedupe(val, /)</code></pre>
<p>Remove duplicates in a list. Uses identity of value (pointer), rather than by equality. In many cases you should use a transitive set instead.</p>
<hr>
<h2 id="dynamic_actions">dynamic_actions</h2>
<pre class="language-python"><code>def dynamic_actions(
<em>,
impl: typing.Callable[&quot;</em>, actions: <a href="/docs/api/build/AnalysisActions/">actions</a>, **kwargs: typing.Any&quot;, list[provider]],
attrs: dict[<a href="/docs/api/starlark/str/">str</a>, <a href="/docs/api/build/dynattrs/DynamicAttrType/">DynamicAttrType</a>],
) -&gt; <a href="/docs/api/build/DynamicActionsCallable/">DynamicActionCallable</a></code></pre>
<p>Create new dynamic action callable. Returned object will be callable, and the result of calling it can be passed to <code>ctx.actions.dynamic_output_new</code>.</p>
<hr>
<h2 id="get_base_path">get_base_path</h2>
<pre class="language-python"><code>def get_base_path() -&gt; <a href="/docs/api/starlark/str/">str</a></code></pre>
<p><code>get_base_path()</code> can only be called in buildfiles (e.g. BUCK files) or PACKAGE files, and returns the name of the package. E.g. inside <code>foo//bar/baz/BUCK</code> the output will be <code>bar/baz</code>. E.g. inside <code>foo//bar/PACKAGE</code> the output will be <code>bar</code>.</p>
<p>This function is identical to <code>package_name</code>.</p>
<hr>
<h2 id="get_cell_name">get_cell_name</h2>
<pre class="language-python"><code>def get_cell_name() -&gt; <a href="/docs/api/starlark/str/">str</a></code></pre>
<p><code>get_cell_name()</code> can be called from either a <code>BUCK</code> file or a <code>.bzl</code> file, and returns the name of the cell where the <code>BUCK</code> file that started the call lives.</p>
<p>For example, inside <code>foo//bar/baz/BUCK</code> the output will be <code>foo</code>.
If that <code>BUCK</code> file does a <code>load(&quot;hello//world.bzl&quot;, &quot;something&quot;)</code> then
the result in that <code>.bzl</code> file will also be <code>foo</code>.</p>
<hr>
<h2 id="glob">glob</h2>
<pre class="language-python"><code>def glob(
include: list[<a href="/docs/api/starlark/str/">str</a>] | tuple[<a href="/docs/api/starlark/str/">str</a>, ...],
*,
exclude: list[<a href="/docs/api/starlark/str/">str</a>] | tuple[<a href="/docs/api/starlark/str/">str</a>, ...] = [],
) -&gt; list[<a href="/docs/api/starlark/str/">str</a>]</code></pre>
<p>The <code>glob()</code> function specifies a set of files using patterns. Only available from <code>BUCK</code> files.</p>
<p>A typical <code>glob</code> call looks like:</p>
<pre><code class="language-python">glob([&quot;foo/**/*.h&quot;])
</code></pre>
<p>This call will match all header files in the <code>foo</code> directory, recursively.</p>
<p>You can also pass a named <code>exclude</code> parameter to remove files matching a pattern:</p>
<pre><code class="language-python">glob([&quot;foo/**/*.h&quot;], exclude = [&quot;**/config.h&quot;])
</code></pre>
<p>This call will remove all <code>config.h</code> files from the initial match.</p>
<p>The <code>glob()</code> call is evaluated against the list of files owned by this <code>BUCK</code> file.
A file is owned by whichever <code>BUCK</code> file is closest above it - so given <code>foo/BUCK</code> and
<code>foo/bar/BUCK</code> the file <code>foo/file.txt</code> would be owned by <code>foo/BUCK</code> (and available from
its <code>glob</code> results) but the file <code>foo/bar/file.txt</code> would be owned by <code>foo/bar/BUCk</code>
and <em>not</em> appear in the glob result of <code>foo/BUCK</code>, even if you write <code>glob([&quot;bar/file.txt&quot;])</code>.
As a consequence of this rule, <code>glob([&quot;../foo.txt&quot;])</code> will always return an empty list of files.</p>
<p>Currently <code>glob</code> is evaluated case-insensitively on all file systems, but we expect
that to change to case sensitive in the near future.</p>
<hr>
<h2 id="host_info">host_info</h2>
<pre class="language-python"><code>def host_info() -&gt; struct(..)</code></pre>
<p>The <code>host_info()</code> function is used to get the current OS and processor architecture on the host. The structure returned is laid out thusly:</p>
<pre><code class="language-python">struct(
    os=struct(
        is_linux=True|False,
        is_macos=True|False,
        is_windows=True|False,
        is_freebsd=True|False,
        is_unknown=True|False,
    ),
    arch=struct(
        is_aarch64=True|False,
        is_arm=True|False,
        is_armeb=True|False,
        is_i386=True|False,
        is_mips=True|False,
        is_mips64=True|False,
        is_mipsel=True|False,
        is_mipsel64=True|False,
        is_powerpc=True|False,
        is_ppc64=True|False,
        is_x86_64=True|False,
        is_unknown=True|False,
    ),
)
</code></pre>
<hr>
<h2 id="implicit_package_symbol">implicit_package_symbol</h2>
<pre class="language-python"><code>def implicit_package_symbol(
name: <a href="/docs/api/starlark/str/">str</a>,
default = ...,
)</code></pre>
<hr>
<h2 id="load_symbols">load_symbols</h2>
<pre class="language-python"><code>def load_symbols(
symbols: dict[<a href="/docs/api/starlark/str/">str</a>, typing.Any],
) -&gt; None</code></pre>
<p>Used in a <code>.bzl</code> file to set exported symbols. In most cases just defining the symbol as a top-level binding is sufficient, but sometimes the names might be programatically generated.</p>
<p>It is undefined behaviour if you try and use any of the symbols exported
here later in the same module, or if they overlap with existing definitions.
This function should be used rarely.</p>
<hr>
<h2 id="oncall">oncall</h2>
<pre class="language-python"><code>def oncall(name: <a href="/docs/api/starlark/str/">str</a>, /) -&gt; None</code></pre>
<p>Called in a <code>BUCK</code> file to declare the oncall contact details for all the targets defined. Must be called at most once, before any targets have been declared. Errors if called from a <code>.bzl</code> file.</p>
<hr>
<h2 id="package">package</h2>
<pre class="language-python"><code>def package(
*,
inherit: <a href="/docs/api/starlark/bool/">bool</a> = False,
visibility: list[<a href="/docs/api/starlark/str/">str</a>] | tuple[<a href="/docs/api/starlark/str/">str</a>, ...] = [],
within_view: list[<a href="/docs/api/starlark/str/">str</a>] | tuple[<a href="/docs/api/starlark/str/">str</a>, ...] = [],
) -&gt; None</code></pre>
<hr>
<h2 id="package_name">package_name</h2>
<pre class="language-python"><code>def package_name() -&gt; <a href="/docs/api/starlark/str/">str</a></code></pre>
<p><code>package_name()</code> can only be called in buildfiles (e.g. BUCK files) or PACKAGE files, and returns the name of the package. E.g. inside <code>foo//bar/baz/BUCK</code> the output will be <code>bar/baz</code>. E.g. inside <code>foo//bar/PACKAGE</code> the output will be <code>bar</code>.</p>
<hr>
<h2 id="provider-1">provider</h2>
<pre class="language-python"><code>def provider(
*,
doc: <a href="/docs/api/starlark/str/">str</a> = &quot;&quot;,
fields: list[<a href="/docs/api/starlark/str/">str</a>] | tuple[<a href="/docs/api/starlark/str/">str</a>, ...] | dict[<a href="/docs/api/starlark/str/">str</a>, typing.Any],
) -&gt; provider_callable</code></pre>
<p>Create a <code>&quot;provider&quot;</code> type that can be returned from <code>rule</code> implementations. Used to pass information from a rule to the things that depend on it. Typically named with an <code>Info</code> suffix.</p>
<pre><code class="language-python">GroovyLibraryInfo(fields = [
    &quot;objects&quot;,  # a list of artifacts
    &quot;options&quot;,  # a string containing compiler options
])
</code></pre>
<p>Given a dependency you can obtain the provider with <code>my_dep[GroovyLibraryInfo]</code>
which returns either <code>None</code> or a value of type <code>GroovyLibraryInfo</code>.</p>
<p>For providers that accumulate upwards a transitive set is often a good choice.</p>
<hr>
<h2 id="provider_field">provider_field</h2>
<pre class="language-python"><code>def provider_field(ty, /, *, default = ...) -&gt; ProviderField</code></pre>
<p>Create a field definition object which can be passed to <code>provider</code> type constructor.</p>
<hr>
<h2 id="read_config">read_config</h2>
<pre class="language-python"><code>def read_config(
section: <a href="/docs/api/starlark/str/">str</a>,
key: <a href="/docs/api/starlark/str/">str</a>,
default = ...,
)</code></pre>
<p>Read a configuration from the nearest enclosing <code>.buckconfig</code> of the <code>BUCK</code> file that started evaluation of this code.</p>
<p>As an example, if you have a <code>.buckconfig</code> of:</p>
<pre><code class="language-toml">[package_options]
compile = super_fast
</code></pre>
<p>Then you would get the following results:</p>
<pre><code class="language-python">read_config(&quot;package_options&quot;, &quot;compile&quot;) == &quot;super_fast&quot;
read_config(&quot;package_options&quot;, &quot;linker&quot;) == None
read_config(&quot;package_options&quot;, &quot;linker&quot;, &quot;a_default&quot;) == &quot;a_default&quot;
</code></pre>
<p>In general the use of <code>.buckconfig</code> is discouraged in favour of <code>select</code>,
but it can still be useful.</p>
<hr>
<h2 id="read_oncall">read_oncall</h2>
<pre class="language-python"><code>def read_oncall() -&gt; None | <a href="/docs/api/starlark/str/">str</a></code></pre>
<p>Called in a <code>BUCK</code> file to retrieve the previously set <code>oncall</code>, or <code>None</code> if none has been set. It is an error to call <code>oncall</code> after calling this function.</p>
<hr>
<h2 id="read_package_value">read_package_value</h2>
<pre class="language-python"><code>def read_package_value(key: <a href="/docs/api/starlark/str/">str</a>, /)</code></pre>
<p>Read value specified in the <code>PACKAGE</code> file.</p>
<p>Returns <code>None</code> if value is not set.</p>
<hr>
<h2 id="read_parent_package_value">read_parent_package_value</h2>
<pre class="language-python"><code>def read_parent_package_value(
key: <a href="/docs/api/starlark/str/">str</a>,
/,
)</code></pre>
<p>Read a package value defined in a parent <code>PACKAGE</code> file.</p>
<p>This function can only be called in a Package context.</p>
<p>Returns <code>None</code> if value is not set.</p>
<hr>
<h2 id="read_root_config">read_root_config</h2>
<pre class="language-python"><code>def read_root_config(
section: <a href="/docs/api/starlark/str/">str</a>,
key: <a href="/docs/api/starlark/str/">str</a>,
default: None | <a href="/docs/api/starlark/str/">str</a> = None,
/,
) -&gt; None | <a href="/docs/api/starlark/str/">str</a></code></pre>
<p>Like <code>read_config</code> but the project root <code>.buckconfig</code> is always consulted, regardless of the cell of the originating <code>BUCK</code> file.</p>
<hr>
<h2 id="regex_match">regex_match</h2>
<pre class="language-python"><code>def regex_match(
regex: <a href="/docs/api/starlark/str/">str</a>,
str: <a href="/docs/api/starlark/str/">str</a>,
/,
) -&gt; <a href="/docs/api/starlark/bool/">bool</a></code></pre>
<p>Test if a regular expression matches a string. Fails if the regular expression is malformed.</p>
<p>As an example:</p>
<pre><code class="language-python">regex_match(&quot;^[a-z]*$&quot;, &quot;hello&quot;) == True
regex_match(&quot;^[a-z]*$&quot;, &quot;1234&quot;) == False
</code></pre>
<hr>
<h2 id="repository_name">repository_name</h2>
<pre class="language-python"><code>def repository_name() -&gt; <a href="/docs/api/starlark/str/">str</a></code></pre>
<p>Like <code>get_cell_name()</code> but prepends a leading <code>@</code> for compatibility with Buck1. You should call <code>get_cell_name()</code> instead, and if you really want the <code>@</code>, prepend it yourself.</p>
<hr>
<h2 id="rule">rule</h2>
<pre class="language-python"><code>def rule(
*,
impl: typing.Callable[[<a href="/docs/api/build/AnalysisContext/">context</a>], <a href="/docs/api/build/Promise/">promise</a> | list[provider]],
attrs: dict[<a href="/docs/api/starlark/str/">str</a>, <a href="/docs/api/build/Attr/">attribute</a>],
cfg: transition = ...,
doc: <a href="/docs/api/starlark/str/">str</a> = &quot;&quot;,
is_configuration_rule: <a href="/docs/api/starlark/bool/">bool</a> = False,
is_toolchain_rule: <a href="/docs/api/starlark/bool/">bool</a> = False,
uses_plugins: list[<a href="/docs/api/build/plugins/PluginKind/">PluginKind</a>] | tuple[<a href="/docs/api/build/plugins/PluginKind/">PluginKind</a>, ...] = [],
) -&gt; def(**kwargs: typing.Any) -&gt; None</code></pre>
<p>Define a rule. As a simple example:</p>
<pre><code class="language-python">def _my_rule(ctx: AnalysisContext) -&gt; list[Provider]:
    output = ctx.actions.write(&quot;hello.txt&quot;, ctx.attrs.contents, executable = ctx.attrs.exe)
    return [DefaultInfo(outputs = [output])]

MyRule = rule(impl = _my_rule, attrs = {
    &quot;contents&quot;: attrs.string(),
    &quot;exe&quot;: attrs.option(attrs.bool(), default = False),
})
</code></pre>
<hr>
<h2 id="rule_exists">rule_exists</h2>
<pre class="language-python"><code>def rule_exists(
name: <a href="/docs/api/starlark/str/">str</a>,
) -&gt; <a href="/docs/api/starlark/bool/">bool</a></code></pre>
<p>Check if the target with <code>name</code> has already been defined, returns <code>True</code> if it has.</p>
<p>Note that this function checks for the existence of a <em>target</em> rather than a <em>rule</em>.
In general use of this function is discouraged, as it makes definitions of rules not compose.</p>
<hr>
<h2 id="select">select</h2>
<pre class="language-python"><code>def select(d, /) -&gt; <a href="/docs/api/build/Select/">selector</a></code></pre>
<hr>
<h2 id="select_equal_internal">select_equal_internal</h2>
<pre class="language-python"><code>def select_equal_internal(
left,
right,
/,
) -&gt; <a href="/docs/api/starlark/bool/">bool</a></code></pre>
<p>Tests that two selects are equal to each other. For testing use only. We simply compare their string representations.</p>
<hr>
<h2 id="select_map">select_map</h2>
<pre class="language-python"><code>def select_map(d, func, /)</code></pre>
<p>Maps a selector.</p>
<p>Each value within a selector map and on each side of an addition will be passed to the
mapping function. The returned selector will have the same structure as this one.</p>
<p>Ex:</p>
<pre><code class="language-starlark">def increment_items(a):
    return [v + 1 for v in a]

select_map([1, 2] + select({&quot;c&quot;: [2]}), increment_items) == [2, 3] + select({&quot;c&quot;: [3]})
</code></pre>
<hr>
<h2 id="select_test">select_test</h2>
<pre class="language-python"><code>def select_test(d, func, /) -&gt; <a href="/docs/api/starlark/bool/">bool</a></code></pre>
<p>Test values in the select expression using the given function.</p>
<p>Returns True, if any value in the select passes, else False.</p>
<p>Ex:</p>
<pre><code class="language-starlark">select_test([1] + select({&quot;c&quot;: [1]}), lambda a: len(a) &gt; 1) == False
select_test([1, 2] + select({&quot;c&quot;: [1]}), lambda a: len(a) &gt; 1) == True
select_test([1] + select({&quot;c&quot;: [1, 2]}), lambda a: len(a) &gt; 1) == True
</code></pre>
<hr>
<h2 id="set_cfg_constructor">set_cfg_constructor</h2>
<pre class="language-python"><code>def set_cfg_constructor(
*,
stage0,
stage1,
key: <a href="/docs/api/starlark/str/">str</a>,
aliases = None,
extra_data = None,
) -&gt; None</code></pre>
<p>Register global cfg constructor.</p>
<p>This function can only be called from the repository root <code>PACKAGE</code> file.</p>
<p>Parameters:
stage0: The first cfg constructor that will be invoked before configuration rules are analyzed.
stage1: The second cfg constructor that will be invoked after configuration rules are analyzed.
key: The key for cfg modifiers on PACKAGE values and metadata.
aliases: The aliases map to use for input modifiers.
extra_data: Some extra data that may be used by <code>set_cfg_constructor</code> implementation that is
custom to our implementation and may not be used in other context like open-source.</p>
<hr>
<h2 id="set_starlark_peak_allocated_byte_limit">set_starlark_peak_allocated_byte_limit</h2>
<pre class="language-python"><code>def set_starlark_peak_allocated_byte_limit(
value: <a href="/docs/api/starlark/int/">int</a>,
/,
) -&gt; None</code></pre>
<p>Set the peak allocated bytes during evaluation of build ctx. Err if it has already been set</p>
<hr>
<h2 id="sha256">sha256</h2>
<pre class="language-python"><code>def sha256(
val: <a href="/docs/api/starlark/str/">str</a>,
/,
) -&gt; <a href="/docs/api/starlark/str/">str</a></code></pre>
<p>Computes a sha256 digest for a string. Returns the hex representation of the digest.</p>
<pre><code class="language-python">sha256(&quot;Buck2 is the best build system&quot;) == &quot;bb99a3f19ecba6c4d2c7cd321b63b669684c713881baae21a6b1d759b3ec6ac9&quot;
</code></pre>
<hr>
<h2 id="soft_error">soft_error</h2>
<pre class="language-python"><code>def soft_error(
category: <a href="/docs/api/starlark/str/">str</a>,
message: <a href="/docs/api/starlark/str/">str</a>,
/,
*,
quiet: <a href="/docs/api/starlark/bool/">bool</a> = ...,
stack: <a href="/docs/api/starlark/bool/">bool</a> = ...,
) -&gt; None</code></pre>
<p>Produce an error that will become a hard error at some point in the future, but for now is a warning which is logged to the server. In the open source version of Buck2 this function always results in an error.</p>
<p>Called passing a stable key (must be <code>snake_case</code> and start with <code>starlark_</code>,
used for consistent reporting) and an arbitrary message (used for debugging).</p>
<p>As an example:</p>
<pre><code class="language-python">soft_error(
    &quot;starlark_rule_is_too_long&quot;,
    &quot;Length of property exceeds 100 characters in &quot; + repr(ctx.label),
)
</code></pre>
<hr>
<h2 id="transition">transition</h2>
<pre class="language-python"><code>def transition(
<em>,
impl: typing.Callable[&quot;</em>, platform: PlatformInfo, refs: struct(..), attrs: struct(..) = ...&quot;, dict[<a href="/docs/api/starlark/str/">str</a>, PlatformInfo] | PlatformInfo],
refs: dict[<a href="/docs/api/starlark/str/">str</a>, <a href="/docs/api/starlark/str/">str</a>],
attrs: list[<a href="/docs/api/starlark/str/">str</a>] | tuple[<a href="/docs/api/starlark/str/">str</a>, ...] = ...,
split: <a href="/docs/api/starlark/bool/">bool</a> = False,
) -&gt; transition</code></pre>
<hr>
<h2 id="transitive_set">transitive_set</h2>
<pre class="language-python"><code>def transitive_set(
*,
args_projections: dict[<a href="/docs/api/starlark/str/">str</a>, typing.Callable[[typing.Any], typing.Any]] = ...,
json_projections: dict[<a href="/docs/api/starlark/str/">str</a>, typing.Callable[[typing.Any], typing.Any]] = ...,
reductions: dict[<a href="/docs/api/starlark/str/">str</a>, typing.Callable[[list, typing.Any], typing.Any]] = ...,
) -&gt; <a href="/docs/api/build/TransitiveSetDefinition/">transitive_set_definition</a></code></pre>
<hr>
<h2 id="warning">warning</h2>
<pre class="language-python"><code>def warning(x: <a href="/docs/api/starlark/str/">str</a>, /) -&gt; None</code></pre>
<p>Print a warning. The line will be decorated with the timestamp and other details, including the word <code>WARN</code> (colored, if the console supports it).</p>
<p>If you are not writing a warning, use <code>print</code> instead. Be aware that printing
lots of output (warnings or not) can be cause all information to be ignored by the user.</p>
<hr>
<h2 id="write_package_value">write_package_value</h2>
<pre class="language-python"><code>def write_package_value(
key: <a href="/docs/api/starlark/str/">str</a>,
value,
/,
*,
overwrite: <a href="/docs/api/starlark/bool/">bool</a> = False,
) -&gt; None</code></pre>
<p>Set the value to be accessible in the nested <code>PACKAGE</code> files.</p>
<p>If any parent <code>PACKAGE</code> value has already set the same <code>key</code>,
it will raise an error unless you pass <code>overwrite = True</code>,
in which case it will replace the parent value.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/api/starlark/typing/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">typing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/api/build/ActionErrorCtx/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ActionErrorCtx</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#executionplatforminfo" class="table-of-contents__link toc-highlight">ExecutionPlatformInfo</a></li><li><a href="#executionplatformregistrationinfo" class="table-of-contents__link toc-highlight">ExecutionPlatformRegistrationInfo</a></li><li><a href="#installinfo" class="table-of-contents__link toc-highlight">InstallInfo</a></li><li><a href="#provider" class="table-of-contents__link toc-highlight">Provider</a></li><li><a href="#anon_rule" class="table-of-contents__link toc-highlight">anon_rule</a></li><li><a href="#attrs" class="table-of-contents__link toc-highlight">attrs</a></li><li><a href="#dedupe" class="table-of-contents__link toc-highlight">dedupe</a></li><li><a href="#dynamic_actions" class="table-of-contents__link toc-highlight">dynamic_actions</a></li><li><a href="#get_base_path" class="table-of-contents__link toc-highlight">get_base_path</a></li><li><a href="#get_cell_name" class="table-of-contents__link toc-highlight">get_cell_name</a></li><li><a href="#glob" class="table-of-contents__link toc-highlight">glob</a></li><li><a href="#host_info" class="table-of-contents__link toc-highlight">host_info</a></li><li><a href="#implicit_package_symbol" class="table-of-contents__link toc-highlight">implicit_package_symbol</a></li><li><a href="#load_symbols" class="table-of-contents__link toc-highlight">load_symbols</a></li><li><a href="#oncall" class="table-of-contents__link toc-highlight">oncall</a></li><li><a href="#package" class="table-of-contents__link toc-highlight">package</a></li><li><a href="#package_name" class="table-of-contents__link toc-highlight">package_name</a></li><li><a href="#provider-1" class="table-of-contents__link toc-highlight">provider</a></li><li><a href="#provider_field" class="table-of-contents__link toc-highlight">provider_field</a></li><li><a href="#read_config" class="table-of-contents__link toc-highlight">read_config</a></li><li><a href="#read_oncall" class="table-of-contents__link toc-highlight">read_oncall</a></li><li><a href="#read_package_value" class="table-of-contents__link toc-highlight">read_package_value</a></li><li><a href="#read_parent_package_value" class="table-of-contents__link toc-highlight">read_parent_package_value</a></li><li><a href="#read_root_config" class="table-of-contents__link toc-highlight">read_root_config</a></li><li><a href="#regex_match" class="table-of-contents__link toc-highlight">regex_match</a></li><li><a href="#repository_name" class="table-of-contents__link toc-highlight">repository_name</a></li><li><a href="#rule" class="table-of-contents__link toc-highlight">rule</a></li><li><a href="#rule_exists" class="table-of-contents__link toc-highlight">rule_exists</a></li><li><a href="#select" class="table-of-contents__link toc-highlight">select</a></li><li><a href="#select_equal_internal" class="table-of-contents__link toc-highlight">select_equal_internal</a></li><li><a href="#select_map" class="table-of-contents__link toc-highlight">select_map</a></li><li><a href="#select_test" class="table-of-contents__link toc-highlight">select_test</a></li><li><a href="#set_cfg_constructor" class="table-of-contents__link toc-highlight">set_cfg_constructor</a></li><li><a href="#set_starlark_peak_allocated_byte_limit" class="table-of-contents__link toc-highlight">set_starlark_peak_allocated_byte_limit</a></li><li><a href="#sha256" class="table-of-contents__link toc-highlight">sha256</a></li><li><a href="#soft_error" class="table-of-contents__link toc-highlight">soft_error</a></li><li><a href="#transition" class="table-of-contents__link toc-highlight">transition</a></li><li><a href="#transitive_set" class="table-of-contents__link toc-highlight">transitive_set</a></li><li><a href="#warning" class="table-of-contents__link toc-highlight">warning</a></li><li><a href="#write_package_value" class="table-of-contents__link toc-highlight">write_package_value</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">User guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/buck2/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/buck2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2024 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>