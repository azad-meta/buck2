"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6705],{37043:(t,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>d});var a=r(74848),i=r(15680),n=r(28774);const c={},s="Artifact",o={id:"api/build/Artifact",title:"Artifact",description:"A single input or output file for an action.",source:"@site/../docs/api/build/Artifact.md",sourceDirName:"api/build",slug:"/api/build/Artifact",permalink:"/docs/api/build/Artifact",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"AnonTargets",permalink:"/docs/api/build/AnonTargets"},next:{title:"ArtifactTag",permalink:"/docs/api/build/ArtifactTag"}},l={},d=[{value:"Artifact.as_output",id:"artifactas_output",level:2},{value:"Artifact.basename",id:"artifactbasename",level:2},{value:"Artifact.extension",id:"artifactextension",level:2},{value:"Artifact.is_source",id:"artifactis_source",level:2},{value:"Artifact.owner",id:"artifactowner",level:2},{value:"Artifact.project",id:"artifactproject",level:2},{value:"Artifact.short_path",id:"artifactshort_path",level:2},{value:"Artifact.with_associated_artifacts",id:"artifactwith_associated_artifacts",level:2},{value:"Artifact.without_associated_artifacts",id:"artifactwithout_associated_artifacts",level:2}];function f(t){const e={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",...(0,i.useMDXComponents)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"artifact",children:"Artifact"})}),"\n",(0,a.jsx)(e.p,{children:"A single input or output file for an action."}),"\n",(0,a.jsxs)(e.p,{children:["There is no ",(0,a.jsx)(e.code,{children:".parent"})," method on ",(0,a.jsx)(e.code,{children:"artifact"}),", but in most cases\n",(0,a.jsx)(e.code,{children:"cmd_args(my_artifact, parent = 1)"})," can be used to similar effect."]}),"\n",(0,a.jsx)(e.h2,{id:"artifactas_output",children:"Artifact.as_output"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["def Artifact.as_output(\n) -> ",(0,a.jsx)(n.default,{to:"/docs/api/build/OutputArtifact",children:"output_artifact"})]})}),"\n",(0,a.jsxs)(e.p,{children:["Returns a ",(0,a.jsx)(e.code,{children:"StarlarkOutputArtifact"})," instance, or fails if the artifact is either an ",(0,a.jsx)(e.code,{children:"Artifact"}),", or is a bound ",(0,a.jsx)(e.code,{children:"Artifact"})," (You cannot bind twice)"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactbasename",children:"Artifact.basename"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["Artifact.basename: ",(0,a.jsx)(n.default,{to:"/docs/api/starlark/str",children:"str"})]})}),"\n",(0,a.jsxs)(e.p,{children:["The base name of this artifact. e.g. for an artifact at ",(0,a.jsx)(e.code,{children:"foo/bar"}),", this is ",(0,a.jsx)(e.code,{children:"bar"})]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactextension",children:"Artifact.extension"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["Artifact.extension: ",(0,a.jsx)(n.default,{to:"/docs/api/starlark/str",children:"str"})]})}),"\n",(0,a.jsxs)(e.p,{children:["The file extension of this artifact. e.g. for an artifact at foo/bar.sh, this is ",(0,a.jsx)(e.code,{children:".sh"}),". If no extension is present, ",(0,a.jsx)(e.code,{children:'""'})," is returned."]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactis_source",children:"Artifact.is_source"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["Artifact.is_source: ",(0,a.jsx)(n.default,{to:"/docs/api/starlark/bool",children:"bool"})]})}),"\n",(0,a.jsx)(e.p,{children:"Whether the artifact represents a source file"}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactowner",children:"Artifact.owner"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["Artifact.owner: None | ",(0,a.jsx)(n.default,{to:"/docs/api/build/Label",children:"label"})]})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"Label"})," of the rule that originally created this artifact. May also be None in the case of source files, or if the artifact has not be used in an action, or if the action was not created by a rule."]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactproject",children:"Artifact.project"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["def Artifact.project(\npath: ",(0,a.jsx)(n.default,{to:"/docs/api/starlark/str",children:"str"}),",\n/,\n*,\nhide_prefix: ",(0,a.jsx)(n.default,{to:"/docs/api/starlark/bool",children:"bool"})," = False,\n) -> ",(0,a.jsx)(n.default,{to:"/docs/api/build/Artifact",children:"artifact"})]})}),"\n",(0,a.jsx)(e.p,{children:"Create an artifact that lives at path relative from this artifact."}),"\n",(0,a.jsxs)(e.p,{children:["For example, if artifact foo is a directory containing a file bar, then ",(0,a.jsx)(e.code,{children:'foo.project("bar")'}),"\nyields the file bar. It is possible for projected artifacts to hide the prefix in order to\nhave the short name of the resulting artifact only contain the projected path, by passing\n",(0,a.jsx)(e.code,{children:"hide_prefix = True"})," to ",(0,a.jsx)(e.code,{children:"project()"}),"."]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactshort_path",children:"Artifact.short_path"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["Artifact.short_path: ",(0,a.jsx)(n.default,{to:"/docs/api/starlark/str",children:"str"})]})}),"\n",(0,a.jsxs)(e.p,{children:["The interesting part of the path, relative to somewhere in the output directory. For an artifact declared as ",(0,a.jsx)(e.code,{children:"foo/bar"}),", this is ",(0,a.jsx)(e.code,{children:"foo/bar"}),"."]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactwith_associated_artifacts",children:"Artifact.with_associated_artifacts"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["def Artifact.with_associated_artifacts(\nartifacts: list[",(0,a.jsx)(n.default,{to:"/docs/api/build/Artifact",children:"artifact"}),"],\n) -> ",(0,a.jsx)(n.default,{to:"/docs/api/build/Artifact",children:"artifact"})]})}),"\n",(0,a.jsxs)(e.p,{children:["Returns a ",(0,a.jsx)(e.code,{children:"StarlarkArtifact"})," instance which is identical to the original artifact, but with potentially additional artifacts. The artifacts must be bound."]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"artifactwithout_associated_artifacts",children:"Artifact.without_associated_artifacts"}),"\n",(0,a.jsx)("pre",{class:"language-python",children:(0,a.jsxs)("code",{children:["def Artifact.without_associated_artifacts(\n) -> ",(0,a.jsx)(n.default,{to:"/docs/api/build/Artifact",children:"artifact"})]})}),"\n",(0,a.jsxs)(e.p,{children:["Returns a ",(0,a.jsx)(e.code,{children:"StarlarkArtifact"})," instance which is identical to the original artifact, except with no associated artifacts"]})]})}function h(t={}){const{wrapper:e}={...(0,i.useMDXComponents)(),...t.components};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(f,{...t})}):f(t)}},15680:(t,e,r)=>{r.r(e),r.d(e,{MDXContext:()=>l,MDXProvider:()=>h,mdx:()=>x,useMDXComponents:()=>f,withMDXComponents:()=>d});var a=r(96540);function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},n.apply(this,arguments)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e){if(null==t)return{};var r,a,i=function(t,e){if(null==t)return{};var r,a,i={},n=Object.keys(t);for(a=0;a<n.length;a++)r=n[a],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(a=0;a<n.length;a++)r=n[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var l=a.createContext({}),d=function(t){return function(e){var r=f(e.components);return a.createElement(t,n({},e,{components:r}))}},f=function(t){var e=a.useContext(l),r=e;return t&&(r="function"==typeof t?t(e):s(s({},e),t)),r},h=function(t){var e=f(t.components);return a.createElement(l.Provider,{value:e},t.children)},p="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},j=a.forwardRef((function(t,e){var r=t.components,i=t.mdxType,n=t.originalType,c=t.parentName,l=o(t,["components","mdxType","originalType","parentName"]),d=f(r),h=i,p=d["".concat(c,".").concat(h)]||d[h]||u[h]||n;return r?a.createElement(p,s(s({ref:e},l),{},{components:r})):a.createElement(p,s({ref:e},l))}));function x(t,e){var r=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var n=r.length,c=new Array(n);c[0]=j;var s={};for(var o in e)hasOwnProperty.call(e,o)&&(s[o]=e[o]);s.originalType=t,s[p]="string"==typeof t?t:i,c[1]=s;for(var l=2;l<n;l++)c[l]=r[l];return a.createElement.apply(null,c)}return a.createElement.apply(null,r)}j.displayName="MDXCreateElement"}}]);